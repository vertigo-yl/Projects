
% Default to the notebook output style

    


% Inherit from the specified cell style.




    
\documentclass[11pt]{article}

    
    
    \usepackage[T1]{fontenc}
    % Nicer default font (+ math font) than Computer Modern for most use cases
    \usepackage{mathpazo}

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % We will generate all images so they have a width \maxwidth. This means
    % that they will get their normal width if they fit onto the page, but
    % are scaled down if they would overflow the margins.
    \makeatletter
    \def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
    \else\Gin@nat@width\fi}
    \makeatother
    \let\Oldincludegraphics\includegraphics
    % Set max figure width to be 80% of text width, for now hardcoded.
    \renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=.8\maxwidth]{#1}}
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionLabelFormat{nolabel}{}
    \captionsetup{labelformat=nolabel}

    \usepackage{adjustbox} % Used to constrain images to a maximum size 
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range 
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    \usepackage{mathrsfs}
    

    
    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}
    \definecolor{ansi-default-inverse-fg}{HTML}{FFFFFF}
    \definecolor{ansi-default-inverse-bg}{HTML}{000000}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatibility definitions
    \def\gt{>}
    \def\lt{<}
    \let\Oldtex\TeX
    \let\Oldlatex\LaTeX
    \renewcommand{\TeX}{\textrm{\Oldtex}}
    \renewcommand{\LaTeX}{\textrm{\Oldlatex}}
    % Document parameters
    % Document title
    \title{star\_war}
    
    
    
    
    

    % Pygments definitions
    
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\expandafter\def\csname PY@tok@w\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\expandafter\def\csname PY@tok@c\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\expandafter\def\csname PY@tok@k\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\expandafter\def\csname PY@tok@o\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ow\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@nb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@nn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@ne\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\expandafter\def\csname PY@tok@nv\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@no\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@nl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@ni\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\expandafter\def\csname PY@tok@na\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\expandafter\def\csname PY@tok@nt\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@nd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\expandafter\def\csname PY@tok@s\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sd\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@si\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@se\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\expandafter\def\csname PY@tok@sr\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\expandafter\def\csname PY@tok@ss\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sx\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@m\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@gh\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gu\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@gd\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@gi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\expandafter\def\csname PY@tok@gr\endcsname{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\expandafter\def\csname PY@tok@ge\endcsname{\let\PY@it=\textit}
\expandafter\def\csname PY@tok@gs\endcsname{\let\PY@bf=\textbf}
\expandafter\def\csname PY@tok@gp\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\expandafter\def\csname PY@tok@go\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\expandafter\def\csname PY@tok@gt\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\expandafter\def\csname PY@tok@err\endcsname{\def\PY@bc##1{\setlength{\fboxsep}{0pt}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}
\expandafter\def\csname PY@tok@kc\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kd\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kn\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@kr\endcsname{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@bp\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\expandafter\def\csname PY@tok@fm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\expandafter\def\csname PY@tok@vc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vg\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@vm\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\expandafter\def\csname PY@tok@sa\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sc\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@dl\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s2\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@sh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@s1\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\expandafter\def\csname PY@tok@mb\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mf\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mh\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mi\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@il\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@mo\endcsname{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\expandafter\def\csname PY@tok@ch\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cm\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cpf\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@c1\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\expandafter\def\csname PY@tok@cs\endcsname{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % Exact colors from NB
    \definecolor{incolor}{rgb}{0.0, 0.0, 0.5}
    \definecolor{outcolor}{rgb}{0.545, 0.0, 0.0}



    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

    \begin{document}
    
    
    \maketitle
    
    

    
    \subsection{Data analysis and visualization of knowledge graph for star
war
movies}\label{data-analysis-and-visualization-of-knowledge-graph-for-star-war-movies}

👉👉\href{http://starwar-visualization.s3-website-us-west-1.amazonaws.com}{\textbf{You
can have a look at this Project first}} 👈👈

This project collected data from online database
\href{https://swapi.co}{\textbf{SWAPI}}, which is the world's first
quantified and programmatically-accessible data source for all the data
from the Star Wars canon universe!

The dataset include 6 APIs: Planets, Spaceships, Vehicles, People, Films
and Species, from all SEVEN Star Wars films.

\subsubsection{1. Data collection}\label{data-collection}

We can get the json file of all data from this website, then use urllib
in python3 to download and save data.

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}1}]:} \PY{k+kn}{import} \PY{n+nn}{warnings}
        \PY{n}{warnings}\PY{o}{.}\PY{n}{simplefilter}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ignore}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{k+kn}{import} \PY{n+nn}{urllib}
        \PY{k+kn}{import} \PY{n+nn}{json}
        \PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
        \PY{k+kn}{import} \PY{n+nn}{matplotlib}\PY{n+nn}{.}\PY{n+nn}{pyplot} \PY{k}{as} \PY{n+nn}{plt}
        \PY{k+kn}{import} \PY{n+nn}{seaborn} \PY{k}{as} \PY{n+nn}{sns}
        \PY{k+kn}{import} \PY{n+nn}{matplotlib}
        \PY{o}{\PYZpc{}}\PY{k}{matplotlib} inline
        \PY{n}{matplotlib}\PY{o}{.}\PY{n}{style}\PY{o}{.}\PY{n}{use}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{ggplot}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}5}]:} \PY{n}{films} \PY{o}{=} \PY{p}{[}\PY{p}{]}
        \PY{k}{for} \PY{n}{x} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,}\PY{l+m+mi}{8}\PY{p}{)}\PY{p}{:}
            \PY{n}{films}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{httP://swapi.co/api/films/}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n}{x}\PY{p}{)} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{/}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{n}{headers} \PY{o}{=} \PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}
        \PY{n}{headers}\PY{p}{[}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{User\PYZhy{}Agent}\PY{l+s+s2}{\PYZdq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.104 Safari/537.36 Core/1.53.3226.400 QQBrowser/9.6.11681.400}\PY{l+s+s2}{\PYZdq{}}
        
        \PY{n}{fw} \PY{o}{=} \PY{n+nb}{open}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{../csv/films.txt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{k}{for} \PY{n}{item} \PY{o+ow}{in} \PY{n}{films}\PY{p}{:}
            \PY{n+nb}{print}\PY{p}{(}\PY{n}{item}\PY{p}{)}
            \PY{n}{request} \PY{o}{=} \PY{n}{urllib}\PY{o}{.}\PY{n}{request}\PY{o}{.}\PY{n}{Request}\PY{p}{(}\PY{n}{item}\PY{p}{,} \PY{n}{headers}\PY{o}{=}\PY{n}{headers}\PY{p}{)}
            \PY{n}{response} \PY{o}{=} \PY{n}{urllib}\PY{o}{.}\PY{n}{request}\PY{o}{.}\PY{n}{urlopen}\PY{p}{(}\PY{n}{request}\PY{p}{,} \PY{n}{timeout}\PY{o}{=}\PY{l+m+mi}{20}\PY{p}{)}
            \PY{n}{result} \PY{o}{=} \PY{n}{response}\PY{o}{.}\PY{n}{read}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{decode}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{utf\PYZhy{}8}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n+nb}{print}\PY{p}{(}\PY{n}{result}\PY{p}{)}
            \PY{n}{fw}\PY{o}{.}\PY{n}{write}\PY{p}{(}\PY{n}{result} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        
        \PY{n}{fw}\PY{o}{.}\PY{n}{close}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
httP://swapi.co/api/films/1/
\{"title":"A New Hope","episode\_id":4,"opening\_crawl":"It is a period of civil war.\textbackslash{}r\textbackslash{}nRebel spaceships, striking\textbackslash{}r\textbackslash{}nfrom a hidden base, have won\textbackslash{}r\textbackslash{}ntheir first victory against\textbackslash{}r\textbackslash{}nthe evil Galactic Empire.\textbackslash{}r\textbackslash{}n\textbackslash{}r\textbackslash{}nDuring the battle, Rebel\textbackslash{}r\textbackslash{}nspies managed to steal secret\textbackslash{}r\textbackslash{}nplans to the Empire's\textbackslash{}r\textbackslash{}nultimate weapon, the DEATH\textbackslash{}r\textbackslash{}nSTAR, an armored space\textbackslash{}r\textbackslash{}nstation with enough power\textbackslash{}r\textbackslash{}nto destroy an entire planet.\textbackslash{}r\textbackslash{}n\textbackslash{}r\textbackslash{}nPursued by the Empire's\textbackslash{}r\textbackslash{}nsinister agents, Princess\textbackslash{}r\textbackslash{}nLeia races home aboard her\textbackslash{}r\textbackslash{}nstarship, custodian of the\textbackslash{}r\textbackslash{}nstolen plans that can save her\textbackslash{}r\textbackslash{}npeople and restore\textbackslash{}r\textbackslash{}nfreedom to the galaxy{\ldots}","director":"George Lucas","producer":"Gary Kurtz, Rick McCallum","release\_date":"1977-05-25","characters":["https://swapi.co/api/people/1/","https://swapi.co/api/people/2/","https://swapi.co/api/people/3/","https://swapi.co/api/people/4/","https://swapi.co/api/people/5/","https://swapi.co/api/people/6/","https://swapi.co/api/people/7/","https://swapi.co/api/people/8/","https://swapi.co/api/people/9/","https://swapi.co/api/people/10/","https://swapi.co/api/people/12/","https://swapi.co/api/people/13/","https://swapi.co/api/people/14/","https://swapi.co/api/people/15/","https://swapi.co/api/people/16/","https://swapi.co/api/people/18/","https://swapi.co/api/people/19/","https://swapi.co/api/people/81/"],"planets":["https://swapi.co/api/planets/2/","https://swapi.co/api/planets/3/","https://swapi.co/api/planets/1/"],"starships":["https://swapi.co/api/starships/2/","https://swapi.co/api/starships/3/","https://swapi.co/api/starships/5/","https://swapi.co/api/starships/9/","https://swapi.co/api/starships/10/","https://swapi.co/api/starships/11/","https://swapi.co/api/starships/12/","https://swapi.co/api/starships/13/"],"vehicles":["https://swapi.co/api/vehicles/4/","https://swapi.co/api/vehicles/6/","https://swapi.co/api/vehicles/7/","https://swapi.co/api/vehicles/8/"],"species":["https://swapi.co/api/species/5/","https://swapi.co/api/species/3/","https://swapi.co/api/species/2/","https://swapi.co/api/species/1/","https://swapi.co/api/species/4/"],"created":"2014-12-10T14:23:31.880000Z","edited":"2015-04-11T09:46:52.774897Z","url":"https://swapi.co/api/films/1/"\}
httP://swapi.co/api/films/2/
\{"title":"The Empire Strikes Back","episode\_id":5,"opening\_crawl":"It is a dark time for the\textbackslash{}r\textbackslash{}nRebellion. Although the Death\textbackslash{}r\textbackslash{}nStar has been destroyed,\textbackslash{}r\textbackslash{}nImperial troops have driven the\textbackslash{}r\textbackslash{}nRebel forces from their hidden\textbackslash{}r\textbackslash{}nbase and pursued them across\textbackslash{}r\textbackslash{}nthe galaxy.\textbackslash{}r\textbackslash{}n\textbackslash{}r\textbackslash{}nEvading the dreaded Imperial\textbackslash{}r\textbackslash{}nStarfleet, a group of freedom\textbackslash{}r\textbackslash{}nfighters led by Luke Skywalker\textbackslash{}r\textbackslash{}nhas established a new secret\textbackslash{}r\textbackslash{}nbase on the remote ice world\textbackslash{}r\textbackslash{}nof Hoth.\textbackslash{}r\textbackslash{}n\textbackslash{}r\textbackslash{}nThe evil lord Darth Vader,\textbackslash{}r\textbackslash{}nobsessed with finding young\textbackslash{}r\textbackslash{}nSkywalker, has dispatched\textbackslash{}r\textbackslash{}nthousands of remote probes into\textbackslash{}r\textbackslash{}nthe far reaches of space{\ldots}","director":"Irvin Kershner","producer":"Gary Kurtz, Rick McCallum","release\_date":"1980-05-17","characters":["https://swapi.co/api/people/1/","https://swapi.co/api/people/2/","https://swapi.co/api/people/3/","https://swapi.co/api/people/4/","https://swapi.co/api/people/5/","https://swapi.co/api/people/10/","https://swapi.co/api/people/13/","https://swapi.co/api/people/14/","https://swapi.co/api/people/18/","https://swapi.co/api/people/20/","https://swapi.co/api/people/21/","https://swapi.co/api/people/22/","https://swapi.co/api/people/23/","https://swapi.co/api/people/24/","https://swapi.co/api/people/25/","https://swapi.co/api/people/26/"],"planets":["https://swapi.co/api/planets/4/","https://swapi.co/api/planets/5/","https://swapi.co/api/planets/6/","https://swapi.co/api/planets/27/"],"starships":["https://swapi.co/api/starships/15/","https://swapi.co/api/starships/10/","https://swapi.co/api/starships/11/","https://swapi.co/api/starships/12/","https://swapi.co/api/starships/21/","https://swapi.co/api/starships/22/","https://swapi.co/api/starships/23/","https://swapi.co/api/starships/3/","https://swapi.co/api/starships/17/"],"vehicles":["https://swapi.co/api/vehicles/8/","https://swapi.co/api/vehicles/14/","https://swapi.co/api/vehicles/16/","https://swapi.co/api/vehicles/18/","https://swapi.co/api/vehicles/19/","https://swapi.co/api/vehicles/20/"],"species":["https://swapi.co/api/species/6/","https://swapi.co/api/species/7/","https://swapi.co/api/species/3/","https://swapi.co/api/species/2/","https://swapi.co/api/species/1/"],"created":"2014-12-12T11:26:24.656000Z","edited":"2017-04-19T10:57:29.544256Z","url":"https://swapi.co/api/films/2/"\}
httP://swapi.co/api/films/3/
\{"title":"Return of the Jedi","episode\_id":6,"opening\_crawl":"Luke Skywalker has returned to\textbackslash{}r\textbackslash{}nhis home planet of Tatooine in\textbackslash{}r\textbackslash{}nan attempt to rescue his\textbackslash{}r\textbackslash{}nfriend Han Solo from the\textbackslash{}r\textbackslash{}nclutches of the vile gangster\textbackslash{}r\textbackslash{}nJabba the Hutt.\textbackslash{}r\textbackslash{}n\textbackslash{}r\textbackslash{}nLittle does Luke know that the\textbackslash{}r\textbackslash{}nGALACTIC EMPIRE has secretly\textbackslash{}r\textbackslash{}nbegun construction on a new\textbackslash{}r\textbackslash{}narmored space station even\textbackslash{}r\textbackslash{}nmore powerful than the first\textbackslash{}r\textbackslash{}ndreaded Death Star.\textbackslash{}r\textbackslash{}n\textbackslash{}r\textbackslash{}nWhen completed, this ultimate\textbackslash{}r\textbackslash{}nweapon will spell certain doom\textbackslash{}r\textbackslash{}nfor the small band of rebels\textbackslash{}r\textbackslash{}nstruggling to restore freedom\textbackslash{}r\textbackslash{}nto the galaxy{\ldots}","director":"Richard Marquand","producer":"Howard G. Kazanjian, George Lucas, Rick McCallum","release\_date":"1983-05-25","characters":["https://swapi.co/api/people/1/","https://swapi.co/api/people/2/","https://swapi.co/api/people/3/","https://swapi.co/api/people/4/","https://swapi.co/api/people/5/","https://swapi.co/api/people/10/","https://swapi.co/api/people/13/","https://swapi.co/api/people/14/","https://swapi.co/api/people/16/","https://swapi.co/api/people/18/","https://swapi.co/api/people/20/","https://swapi.co/api/people/21/","https://swapi.co/api/people/22/","https://swapi.co/api/people/25/","https://swapi.co/api/people/27/","https://swapi.co/api/people/28/","https://swapi.co/api/people/29/","https://swapi.co/api/people/30/","https://swapi.co/api/people/31/","https://swapi.co/api/people/45/"],"planets":["https://swapi.co/api/planets/5/","https://swapi.co/api/planets/7/","https://swapi.co/api/planets/8/","https://swapi.co/api/planets/9/","https://swapi.co/api/planets/1/"],"starships":["https://swapi.co/api/starships/15/","https://swapi.co/api/starships/10/","https://swapi.co/api/starships/11/","https://swapi.co/api/starships/12/","https://swapi.co/api/starships/22/","https://swapi.co/api/starships/23/","https://swapi.co/api/starships/27/","https://swapi.co/api/starships/28/","https://swapi.co/api/starships/29/","https://swapi.co/api/starships/3/","https://swapi.co/api/starships/17/","https://swapi.co/api/starships/2/"],"vehicles":["https://swapi.co/api/vehicles/8/","https://swapi.co/api/vehicles/16/","https://swapi.co/api/vehicles/18/","https://swapi.co/api/vehicles/19/","https://swapi.co/api/vehicles/24/","https://swapi.co/api/vehicles/25/","https://swapi.co/api/vehicles/26/","https://swapi.co/api/vehicles/30/"],"species":["https://swapi.co/api/species/1/","https://swapi.co/api/species/2/","https://swapi.co/api/species/3/","https://swapi.co/api/species/5/","https://swapi.co/api/species/6/","https://swapi.co/api/species/8/","https://swapi.co/api/species/9/","https://swapi.co/api/species/10/","https://swapi.co/api/species/15/"],"created":"2014-12-18T10:39:33.255000Z","edited":"2015-04-11T09:46:05.220365Z","url":"https://swapi.co/api/films/3/"\}
httP://swapi.co/api/films/4/
\{"title":"The Phantom Menace","episode\_id":1,"opening\_crawl":"Turmoil has engulfed the\textbackslash{}r\textbackslash{}nGalactic Republic. The taxation\textbackslash{}r\textbackslash{}nof trade routes to outlying star\textbackslash{}r\textbackslash{}nsystems is in dispute.\textbackslash{}r\textbackslash{}n\textbackslash{}r\textbackslash{}nHoping to resolve the matter\textbackslash{}r\textbackslash{}nwith a blockade of deadly\textbackslash{}r\textbackslash{}nbattleships, the greedy Trade\textbackslash{}r\textbackslash{}nFederation has stopped all\textbackslash{}r\textbackslash{}nshipping to the small planet\textbackslash{}r\textbackslash{}nof Naboo.\textbackslash{}r\textbackslash{}n\textbackslash{}r\textbackslash{}nWhile the Congress of the\textbackslash{}r\textbackslash{}nRepublic endlessly debates\textbackslash{}r\textbackslash{}nthis alarming chain of events,\textbackslash{}r\textbackslash{}nthe Supreme Chancellor has\textbackslash{}r\textbackslash{}nsecretly dispatched two Jedi\textbackslash{}r\textbackslash{}nKnights, the guardians of\textbackslash{}r\textbackslash{}npeace and justice in the\textbackslash{}r\textbackslash{}ngalaxy, to settle the conflict{\ldots}","director":"George Lucas","producer":"Rick McCallum","release\_date":"1999-05-19","characters":["https://swapi.co/api/people/2/","https://swapi.co/api/people/3/","https://swapi.co/api/people/10/","https://swapi.co/api/people/11/","https://swapi.co/api/people/16/","https://swapi.co/api/people/20/","https://swapi.co/api/people/21/","https://swapi.co/api/people/32/","https://swapi.co/api/people/33/","https://swapi.co/api/people/34/","https://swapi.co/api/people/36/","https://swapi.co/api/people/37/","https://swapi.co/api/people/38/","https://swapi.co/api/people/39/","https://swapi.co/api/people/40/","https://swapi.co/api/people/41/","https://swapi.co/api/people/42/","https://swapi.co/api/people/43/","https://swapi.co/api/people/44/","https://swapi.co/api/people/46/","https://swapi.co/api/people/48/","https://swapi.co/api/people/49/","https://swapi.co/api/people/50/","https://swapi.co/api/people/51/","https://swapi.co/api/people/52/","https://swapi.co/api/people/53/","https://swapi.co/api/people/54/","https://swapi.co/api/people/55/","https://swapi.co/api/people/56/","https://swapi.co/api/people/57/","https://swapi.co/api/people/58/","https://swapi.co/api/people/59/","https://swapi.co/api/people/47/","https://swapi.co/api/people/35/"],"planets":["https://swapi.co/api/planets/8/","https://swapi.co/api/planets/9/","https://swapi.co/api/planets/1/"],"starships":["https://swapi.co/api/starships/40/","https://swapi.co/api/starships/41/","https://swapi.co/api/starships/31/","https://swapi.co/api/starships/32/","https://swapi.co/api/starships/39/"],"vehicles":["https://swapi.co/api/vehicles/33/","https://swapi.co/api/vehicles/34/","https://swapi.co/api/vehicles/35/","https://swapi.co/api/vehicles/36/","https://swapi.co/api/vehicles/37/","https://swapi.co/api/vehicles/38/","https://swapi.co/api/vehicles/42/"],"species":["https://swapi.co/api/species/1/","https://swapi.co/api/species/2/","https://swapi.co/api/species/6/","https://swapi.co/api/species/11/","https://swapi.co/api/species/12/","https://swapi.co/api/species/13/","https://swapi.co/api/species/14/","https://swapi.co/api/species/15/","https://swapi.co/api/species/16/","https://swapi.co/api/species/17/","https://swapi.co/api/species/18/","https://swapi.co/api/species/19/","https://swapi.co/api/species/20/","https://swapi.co/api/species/21/","https://swapi.co/api/species/22/","https://swapi.co/api/species/23/","https://swapi.co/api/species/24/","https://swapi.co/api/species/25/","https://swapi.co/api/species/26/","https://swapi.co/api/species/27/"],"created":"2014-12-19T16:52:55.740000Z","edited":"2015-04-11T09:45:18.689301Z","url":"https://swapi.co/api/films/4/"\}
httP://swapi.co/api/films/5/
\{"title":"Attack of the Clones","episode\_id":2,"opening\_crawl":"There is unrest in the Galactic\textbackslash{}r\textbackslash{}nSenate. Several thousand solar\textbackslash{}r\textbackslash{}nsystems have declared their\textbackslash{}r\textbackslash{}nintentions to leave the Republic.\textbackslash{}r\textbackslash{}n\textbackslash{}r\textbackslash{}nThis separatist movement,\textbackslash{}r\textbackslash{}nunder the leadership of the\textbackslash{}r\textbackslash{}nmysterious Count Dooku, has\textbackslash{}r\textbackslash{}nmade it difficult for the limited\textbackslash{}r\textbackslash{}nnumber of Jedi Knights to maintain \textbackslash{}r\textbackslash{}npeace and order in the galaxy.\textbackslash{}r\textbackslash{}n\textbackslash{}r\textbackslash{}nSenator Amidala, the former\textbackslash{}r\textbackslash{}nQueen of Naboo, is returning\textbackslash{}r\textbackslash{}nto the Galactic Senate to vote\textbackslash{}r\textbackslash{}non the critical issue of creating\textbackslash{}r\textbackslash{}nan ARMY OF THE REPUBLIC\textbackslash{}r\textbackslash{}nto assist the overwhelmed\textbackslash{}r\textbackslash{}nJedi{\ldots}","director":"George Lucas","producer":"Rick McCallum","release\_date":"2002-05-16","characters":["https://swapi.co/api/people/2/","https://swapi.co/api/people/3/","https://swapi.co/api/people/6/","https://swapi.co/api/people/7/","https://swapi.co/api/people/10/","https://swapi.co/api/people/11/","https://swapi.co/api/people/20/","https://swapi.co/api/people/21/","https://swapi.co/api/people/22/","https://swapi.co/api/people/33/","https://swapi.co/api/people/36/","https://swapi.co/api/people/40/","https://swapi.co/api/people/43/","https://swapi.co/api/people/46/","https://swapi.co/api/people/51/","https://swapi.co/api/people/52/","https://swapi.co/api/people/53/","https://swapi.co/api/people/58/","https://swapi.co/api/people/59/","https://swapi.co/api/people/60/","https://swapi.co/api/people/61/","https://swapi.co/api/people/62/","https://swapi.co/api/people/63/","https://swapi.co/api/people/64/","https://swapi.co/api/people/65/","https://swapi.co/api/people/66/","https://swapi.co/api/people/67/","https://swapi.co/api/people/68/","https://swapi.co/api/people/69/","https://swapi.co/api/people/70/","https://swapi.co/api/people/71/","https://swapi.co/api/people/72/","https://swapi.co/api/people/73/","https://swapi.co/api/people/74/","https://swapi.co/api/people/75/","https://swapi.co/api/people/76/","https://swapi.co/api/people/77/","https://swapi.co/api/people/78/","https://swapi.co/api/people/82/","https://swapi.co/api/people/35/"],"planets":["https://swapi.co/api/planets/8/","https://swapi.co/api/planets/9/","https://swapi.co/api/planets/10/","https://swapi.co/api/planets/11/","https://swapi.co/api/planets/1/"],"starships":["https://swapi.co/api/starships/21/","https://swapi.co/api/starships/39/","https://swapi.co/api/starships/43/","https://swapi.co/api/starships/47/","https://swapi.co/api/starships/48/","https://swapi.co/api/starships/49/","https://swapi.co/api/starships/32/","https://swapi.co/api/starships/52/","https://swapi.co/api/starships/58/"],"vehicles":["https://swapi.co/api/vehicles/4/","https://swapi.co/api/vehicles/44/","https://swapi.co/api/vehicles/45/","https://swapi.co/api/vehicles/46/","https://swapi.co/api/vehicles/50/","https://swapi.co/api/vehicles/51/","https://swapi.co/api/vehicles/53/","https://swapi.co/api/vehicles/54/","https://swapi.co/api/vehicles/55/","https://swapi.co/api/vehicles/56/","https://swapi.co/api/vehicles/57/"],"species":["https://swapi.co/api/species/32/","https://swapi.co/api/species/33/","https://swapi.co/api/species/2/","https://swapi.co/api/species/35/","https://swapi.co/api/species/6/","https://swapi.co/api/species/1/","https://swapi.co/api/species/12/","https://swapi.co/api/species/34/","https://swapi.co/api/species/13/","https://swapi.co/api/species/15/","https://swapi.co/api/species/28/","https://swapi.co/api/species/29/","https://swapi.co/api/species/30/","https://swapi.co/api/species/31/"],"created":"2014-12-20T10:57:57.886000Z","edited":"2015-04-11T09:45:01.623982Z","url":"https://swapi.co/api/films/5/"\}
httP://swapi.co/api/films/6/
\{"title":"Revenge of the Sith","episode\_id":3,"opening\_crawl":"War! The Republic is crumbling\textbackslash{}r\textbackslash{}nunder attacks by the ruthless\textbackslash{}r\textbackslash{}nSith Lord, Count Dooku.\textbackslash{}r\textbackslash{}nThere are heroes on both sides.\textbackslash{}r\textbackslash{}nEvil is everywhere.\textbackslash{}r\textbackslash{}n\textbackslash{}r\textbackslash{}nIn a stunning move, the\textbackslash{}r\textbackslash{}nfiendish droid leader, General\textbackslash{}r\textbackslash{}nGrievous, has swept into the\textbackslash{}r\textbackslash{}nRepublic capital and kidnapped\textbackslash{}r\textbackslash{}nChancellor Palpatine, leader of\textbackslash{}r\textbackslash{}nthe Galactic Senate.\textbackslash{}r\textbackslash{}n\textbackslash{}r\textbackslash{}nAs the Separatist Droid Army\textbackslash{}r\textbackslash{}nattempts to flee the besieged\textbackslash{}r\textbackslash{}ncapital with their valuable\textbackslash{}r\textbackslash{}nhostage, two Jedi Knights lead a\textbackslash{}r\textbackslash{}ndesperate mission to rescue the\textbackslash{}r\textbackslash{}ncaptive Chancellor{\ldots}","director":"George Lucas","producer":"Rick McCallum","release\_date":"2005-05-19","characters":["https://swapi.co/api/people/1/","https://swapi.co/api/people/2/","https://swapi.co/api/people/3/","https://swapi.co/api/people/4/","https://swapi.co/api/people/5/","https://swapi.co/api/people/6/","https://swapi.co/api/people/7/","https://swapi.co/api/people/10/","https://swapi.co/api/people/11/","https://swapi.co/api/people/12/","https://swapi.co/api/people/13/","https://swapi.co/api/people/20/","https://swapi.co/api/people/21/","https://swapi.co/api/people/33/","https://swapi.co/api/people/46/","https://swapi.co/api/people/51/","https://swapi.co/api/people/52/","https://swapi.co/api/people/53/","https://swapi.co/api/people/54/","https://swapi.co/api/people/55/","https://swapi.co/api/people/56/","https://swapi.co/api/people/58/","https://swapi.co/api/people/63/","https://swapi.co/api/people/64/","https://swapi.co/api/people/67/","https://swapi.co/api/people/68/","https://swapi.co/api/people/75/","https://swapi.co/api/people/78/","https://swapi.co/api/people/79/","https://swapi.co/api/people/80/","https://swapi.co/api/people/81/","https://swapi.co/api/people/82/","https://swapi.co/api/people/83/","https://swapi.co/api/people/35/"],"planets":["https://swapi.co/api/planets/2/","https://swapi.co/api/planets/5/","https://swapi.co/api/planets/8/","https://swapi.co/api/planets/9/","https://swapi.co/api/planets/12/","https://swapi.co/api/planets/13/","https://swapi.co/api/planets/14/","https://swapi.co/api/planets/15/","https://swapi.co/api/planets/16/","https://swapi.co/api/planets/17/","https://swapi.co/api/planets/18/","https://swapi.co/api/planets/19/","https://swapi.co/api/planets/1/"],"starships":["https://swapi.co/api/starships/48/","https://swapi.co/api/starships/59/","https://swapi.co/api/starships/61/","https://swapi.co/api/starships/32/","https://swapi.co/api/starships/63/","https://swapi.co/api/starships/64/","https://swapi.co/api/starships/65/","https://swapi.co/api/starships/66/","https://swapi.co/api/starships/74/","https://swapi.co/api/starships/75/","https://swapi.co/api/starships/2/","https://swapi.co/api/starships/68/"],"vehicles":["https://swapi.co/api/vehicles/33/","https://swapi.co/api/vehicles/50/","https://swapi.co/api/vehicles/53/","https://swapi.co/api/vehicles/56/","https://swapi.co/api/vehicles/60/","https://swapi.co/api/vehicles/62/","https://swapi.co/api/vehicles/67/","https://swapi.co/api/vehicles/69/","https://swapi.co/api/vehicles/70/","https://swapi.co/api/vehicles/71/","https://swapi.co/api/vehicles/72/","https://swapi.co/api/vehicles/73/","https://swapi.co/api/vehicles/76/"],"species":["https://swapi.co/api/species/19/","https://swapi.co/api/species/33/","https://swapi.co/api/species/2/","https://swapi.co/api/species/3/","https://swapi.co/api/species/36/","https://swapi.co/api/species/37/","https://swapi.co/api/species/6/","https://swapi.co/api/species/1/","https://swapi.co/api/species/34/","https://swapi.co/api/species/15/","https://swapi.co/api/species/35/","https://swapi.co/api/species/20/","https://swapi.co/api/species/23/","https://swapi.co/api/species/24/","https://swapi.co/api/species/25/","https://swapi.co/api/species/26/","https://swapi.co/api/species/27/","https://swapi.co/api/species/28/","https://swapi.co/api/species/29/","https://swapi.co/api/species/30/"],"created":"2014-12-20T18:49:38.403000Z","edited":"2015-04-11T09:45:44.862122Z","url":"https://swapi.co/api/films/6/"\}
httP://swapi.co/api/films/7/
\{"title":"The Force Awakens","episode\_id":7,"opening\_crawl":"Luke Skywalker has vanished.\textbackslash{}r\textbackslash{}nIn his absence, the sinister\textbackslash{}r\textbackslash{}nFIRST ORDER has risen from\textbackslash{}r\textbackslash{}nthe ashes of the Empire\textbackslash{}r\textbackslash{}nand will not rest until\textbackslash{}r\textbackslash{}nSkywalker, the last Jedi,\textbackslash{}r\textbackslash{}nhas been destroyed.\textbackslash{}r\textbackslash{}n \textbackslash{}r\textbackslash{}nWith the support of the\textbackslash{}r\textbackslash{}nREPUBLIC, General Leia Organa\textbackslash{}r\textbackslash{}nleads a brave RESISTANCE.\textbackslash{}r\textbackslash{}nShe is desperate to find her\textbackslash{}r\textbackslash{}nbrother Luke and gain his\textbackslash{}r\textbackslash{}nhelp in restoring peace and\textbackslash{}r\textbackslash{}njustice to the galaxy.\textbackslash{}r\textbackslash{}n \textbackslash{}r\textbackslash{}nLeia has sent her most daring\textbackslash{}r\textbackslash{}npilot on a secret mission\textbackslash{}r\textbackslash{}nto Jakku, where an old ally\textbackslash{}r\textbackslash{}nhas discovered a clue to\textbackslash{}r\textbackslash{}nLuke's whereabouts{\ldots}","director":"J. J. Abrams","producer":"Kathleen Kennedy, J. J. Abrams, Bryan Burk","release\_date":"2015-12-11","characters":["https://swapi.co/api/people/1/","https://swapi.co/api/people/3/","https://swapi.co/api/people/5/","https://swapi.co/api/people/13/","https://swapi.co/api/people/14/","https://swapi.co/api/people/27/","https://swapi.co/api/people/84/","https://swapi.co/api/people/85/","https://swapi.co/api/people/86/","https://swapi.co/api/people/87/","https://swapi.co/api/people/88/"],"planets":["https://swapi.co/api/planets/61/"],"starships":["https://swapi.co/api/starships/77/","https://swapi.co/api/starships/10/"],"vehicles":[],"species":["https://swapi.co/api/species/3/","https://swapi.co/api/species/2/","https://swapi.co/api/species/1/"],"created":"2015-04-17T06:51:30.504780Z","edited":"2015-12-17T14:31:47.617768Z","url":"https://swapi.co/api/films/7/"\}

    \end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}9}]:} \PY{n}{fr} \PY{o}{=} \PY{n+nb}{open}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{../csv/films.txt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{r}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
        \PY{n}{films} \PY{o}{=} \PY{p}{[}\PY{p}{]}
        \PY{k}{for} \PY{n}{line} \PY{o+ow}{in} \PY{n}{fr}\PY{p}{:}
            \PY{n}{line} \PY{o}{=} \PY{n}{json}\PY{o}{.}\PY{n}{loads}\PY{p}{(}\PY{n}{line}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
            \PY{n}{films}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{line}\PY{p}{)}
        \PY{n}{fr}\PY{o}{.}\PY{n}{close}\PY{p}{(}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{} 获取 characters,planets,starships,vehicles,species}
        \PY{n}{targets} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{characters}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{planets}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{starships}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{vehicles}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{species}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
        \PY{k}{for} \PY{n}{target} \PY{o+ow}{in} \PY{n}{targets}\PY{p}{:}
            \PY{n}{fw} \PY{o}{=} \PY{n+nb}{open}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{../csv/}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n}{target} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{.txt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
            \PY{n}{data} \PY{o}{=} \PY{p}{[}\PY{p}{]}
            \PY{k}{for} \PY{n}{item} \PY{o+ow}{in} \PY{n}{films}\PY{p}{:}
                \PY{n}{tmp} \PY{o}{=} \PY{n}{item}\PY{p}{[}\PY{n}{target}\PY{p}{]}
                \PY{k}{for} \PY{n}{t} \PY{o+ow}{in} \PY{n}{tmp}\PY{p}{:}
                    \PY{k}{if} \PY{n}{t} \PY{o+ow}{in} \PY{n}{data}\PY{p}{:}
                        \PY{k}{continue}
                    \PY{k}{else}\PY{p}{:}
                        \PY{n}{data}\PY{o}{.}\PY{n}{append}\PY{p}{(}\PY{n}{t}\PY{p}{)}
                        
                    \PY{k}{while} \PY{l+m+mi}{1}\PY{p}{:}
                        \PY{n+nb}{print}\PY{p}{(}\PY{n}{t}\PY{p}{)}
                        \PY{k}{try}\PY{p}{:}
                            \PY{n}{request} \PY{o}{=} \PY{n}{urllib}\PY{o}{.}\PY{n}{request}\PY{o}{.}\PY{n}{Request}\PY{p}{(}\PY{n}{t}\PY{p}{,} \PY{n}{headers}\PY{o}{=}\PY{n}{headers}\PY{p}{)}
                            \PY{n}{response} \PY{o}{=} \PY{n}{urllib}\PY{o}{.}\PY{n}{request}\PY{o}{.}\PY{n}{urlopen}\PY{p}{(}\PY{n}{request}\PY{p}{,} \PY{n}{timeout}\PY{o}{=}\PY{l+m+mi}{20}\PY{p}{)}
                            \PY{n}{result} \PY{o}{=} \PY{n}{response}\PY{o}{.}\PY{n}{read}\PY{p}{(}\PY{p}{)}\PY{o}{.}\PY{n}{decode}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{utf\PYZhy{}8}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
                        \PY{k}{except} \PY{n+ne}{Exception} \PY{k}{as} \PY{n}{e}\PY{p}{:}
                            \PY{k}{continue}
                        \PY{k}{else}\PY{p}{:}
                            \PY{n}{fw}\PY{o}{.}\PY{n}{write}\PY{p}{(}\PY{n}{result} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
                            \PY{k}{break}
                        \PY{k}{finally}\PY{p}{:}
                            \PY{k}{pass}
        
            \PY{n+nb}{print} \PY{p}{(}\PY{n+nb}{str}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{data}\PY{p}{)}\PY{p}{)}\PY{p}{,} \PY{n}{target}\PY{p}{)}
            \PY{n}{fw}\PY{o}{.}\PY{n}{close}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
https://swapi.co/api/people/1/
https://swapi.co/api/people/2/
https://swapi.co/api/people/3/
https://swapi.co/api/people/4/
https://swapi.co/api/people/5/
https://swapi.co/api/people/6/
https://swapi.co/api/people/7/
https://swapi.co/api/people/8/
https://swapi.co/api/people/9/
https://swapi.co/api/people/10/
https://swapi.co/api/people/12/
https://swapi.co/api/people/13/
https://swapi.co/api/people/14/
https://swapi.co/api/people/15/
https://swapi.co/api/people/16/
https://swapi.co/api/people/18/
https://swapi.co/api/people/19/
https://swapi.co/api/people/81/
https://swapi.co/api/people/20/
https://swapi.co/api/people/21/
https://swapi.co/api/people/22/
https://swapi.co/api/people/23/
https://swapi.co/api/people/24/
https://swapi.co/api/people/25/
https://swapi.co/api/people/26/
https://swapi.co/api/people/27/
https://swapi.co/api/people/28/
https://swapi.co/api/people/29/
https://swapi.co/api/people/30/
https://swapi.co/api/people/31/
https://swapi.co/api/people/45/
https://swapi.co/api/people/11/
https://swapi.co/api/people/32/
https://swapi.co/api/people/33/
https://swapi.co/api/people/34/
https://swapi.co/api/people/36/
https://swapi.co/api/people/37/
https://swapi.co/api/people/38/
https://swapi.co/api/people/39/
https://swapi.co/api/people/40/
https://swapi.co/api/people/41/
https://swapi.co/api/people/42/
https://swapi.co/api/people/43/
https://swapi.co/api/people/44/
https://swapi.co/api/people/46/
https://swapi.co/api/people/48/
https://swapi.co/api/people/49/
https://swapi.co/api/people/50/
https://swapi.co/api/people/51/
https://swapi.co/api/people/52/
https://swapi.co/api/people/53/
https://swapi.co/api/people/54/
https://swapi.co/api/people/55/
https://swapi.co/api/people/56/
https://swapi.co/api/people/57/
https://swapi.co/api/people/58/
https://swapi.co/api/people/59/
https://swapi.co/api/people/47/
https://swapi.co/api/people/35/
https://swapi.co/api/people/60/
https://swapi.co/api/people/61/
https://swapi.co/api/people/62/
https://swapi.co/api/people/63/
https://swapi.co/api/people/64/
https://swapi.co/api/people/65/
https://swapi.co/api/people/66/
https://swapi.co/api/people/67/
https://swapi.co/api/people/68/
https://swapi.co/api/people/69/
https://swapi.co/api/people/70/
https://swapi.co/api/people/71/
https://swapi.co/api/people/72/
https://swapi.co/api/people/73/
https://swapi.co/api/people/74/
https://swapi.co/api/people/75/
https://swapi.co/api/people/76/
https://swapi.co/api/people/77/
https://swapi.co/api/people/78/
https://swapi.co/api/people/82/
https://swapi.co/api/people/79/
https://swapi.co/api/people/80/
https://swapi.co/api/people/83/
https://swapi.co/api/people/84/
https://swapi.co/api/people/85/
https://swapi.co/api/people/86/
https://swapi.co/api/people/87/
https://swapi.co/api/people/88/
87 characters
https://swapi.co/api/planets/2/
https://swapi.co/api/planets/3/
https://swapi.co/api/planets/1/
https://swapi.co/api/planets/4/
https://swapi.co/api/planets/5/
https://swapi.co/api/planets/6/
https://swapi.co/api/planets/27/
https://swapi.co/api/planets/7/
https://swapi.co/api/planets/8/
https://swapi.co/api/planets/9/
https://swapi.co/api/planets/10/
https://swapi.co/api/planets/11/
https://swapi.co/api/planets/12/
https://swapi.co/api/planets/13/
https://swapi.co/api/planets/14/
https://swapi.co/api/planets/15/
https://swapi.co/api/planets/16/
https://swapi.co/api/planets/17/
https://swapi.co/api/planets/18/
https://swapi.co/api/planets/19/
https://swapi.co/api/planets/61/
21 planets
https://swapi.co/api/starships/2/
https://swapi.co/api/starships/3/
https://swapi.co/api/starships/5/
https://swapi.co/api/starships/9/
https://swapi.co/api/starships/10/
https://swapi.co/api/starships/11/
https://swapi.co/api/starships/12/
https://swapi.co/api/starships/13/
https://swapi.co/api/starships/15/
https://swapi.co/api/starships/21/
https://swapi.co/api/starships/22/
https://swapi.co/api/starships/23/
https://swapi.co/api/starships/17/
https://swapi.co/api/starships/27/
https://swapi.co/api/starships/28/
https://swapi.co/api/starships/29/
https://swapi.co/api/starships/40/
https://swapi.co/api/starships/41/
https://swapi.co/api/starships/31/
https://swapi.co/api/starships/32/
https://swapi.co/api/starships/39/
https://swapi.co/api/starships/43/
https://swapi.co/api/starships/47/
https://swapi.co/api/starships/48/
https://swapi.co/api/starships/49/
https://swapi.co/api/starships/52/
https://swapi.co/api/starships/58/
https://swapi.co/api/starships/59/
https://swapi.co/api/starships/61/
https://swapi.co/api/starships/63/
https://swapi.co/api/starships/64/
https://swapi.co/api/starships/65/
https://swapi.co/api/starships/66/
https://swapi.co/api/starships/74/
https://swapi.co/api/starships/75/
https://swapi.co/api/starships/68/
https://swapi.co/api/starships/77/
37 starships
https://swapi.co/api/vehicles/4/
https://swapi.co/api/vehicles/6/
https://swapi.co/api/vehicles/7/
https://swapi.co/api/vehicles/8/
https://swapi.co/api/vehicles/14/
https://swapi.co/api/vehicles/16/
https://swapi.co/api/vehicles/18/
https://swapi.co/api/vehicles/19/
https://swapi.co/api/vehicles/20/
https://swapi.co/api/vehicles/24/
https://swapi.co/api/vehicles/25/
https://swapi.co/api/vehicles/26/
https://swapi.co/api/vehicles/30/
https://swapi.co/api/vehicles/33/
https://swapi.co/api/vehicles/34/
https://swapi.co/api/vehicles/35/
https://swapi.co/api/vehicles/36/
https://swapi.co/api/vehicles/37/
https://swapi.co/api/vehicles/38/
https://swapi.co/api/vehicles/42/
https://swapi.co/api/vehicles/44/
https://swapi.co/api/vehicles/45/
https://swapi.co/api/vehicles/46/
https://swapi.co/api/vehicles/50/
https://swapi.co/api/vehicles/51/
https://swapi.co/api/vehicles/53/
https://swapi.co/api/vehicles/54/
https://swapi.co/api/vehicles/55/
https://swapi.co/api/vehicles/56/
https://swapi.co/api/vehicles/57/
https://swapi.co/api/vehicles/60/
https://swapi.co/api/vehicles/62/
https://swapi.co/api/vehicles/67/
https://swapi.co/api/vehicles/69/
https://swapi.co/api/vehicles/70/
https://swapi.co/api/vehicles/71/
https://swapi.co/api/vehicles/72/
https://swapi.co/api/vehicles/73/
https://swapi.co/api/vehicles/76/
39 vehicles
https://swapi.co/api/species/5/
https://swapi.co/api/species/3/
https://swapi.co/api/species/2/
https://swapi.co/api/species/1/
https://swapi.co/api/species/4/
https://swapi.co/api/species/6/
https://swapi.co/api/species/7/
https://swapi.co/api/species/8/
https://swapi.co/api/species/9/
https://swapi.co/api/species/10/
https://swapi.co/api/species/15/
https://swapi.co/api/species/11/
https://swapi.co/api/species/12/
https://swapi.co/api/species/13/
https://swapi.co/api/species/14/
https://swapi.co/api/species/16/
https://swapi.co/api/species/17/
https://swapi.co/api/species/18/
https://swapi.co/api/species/19/
https://swapi.co/api/species/20/
https://swapi.co/api/species/21/
https://swapi.co/api/species/22/
https://swapi.co/api/species/23/
https://swapi.co/api/species/24/
https://swapi.co/api/species/25/
https://swapi.co/api/species/26/
https://swapi.co/api/species/27/
https://swapi.co/api/species/32/
https://swapi.co/api/species/33/
https://swapi.co/api/species/35/
https://swapi.co/api/species/34/
https://swapi.co/api/species/28/
https://swapi.co/api/species/29/
https://swapi.co/api/species/30/
https://swapi.co/api/species/31/
https://swapi.co/api/species/36/
https://swapi.co/api/species/37/
37 species

    \end{Verbatim}

    \subsubsection{2. Basic analysis}\label{basic-analysis}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}42}]:} \PY{n}{fr} \PY{o}{=} \PY{n+nb}{open}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{../csv/films.txt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{r}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{fw} \PY{o}{=} \PY{n+nb}{open}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{../csv/stat\PYZus{}basic.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{fw}\PY{o}{.}\PY{n}{write}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{title,key,value}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{k}{for} \PY{n}{line} \PY{o+ow}{in} \PY{n}{fr}\PY{p}{:}
             \PY{n}{tmp} \PY{o}{=} \PY{n}{json}\PY{o}{.}\PY{n}{loads}\PY{p}{(}\PY{n}{line}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
             \PY{n}{fw}\PY{o}{.}\PY{n}{write}\PY{p}{(}\PY{n}{tmp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{title}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{characters,}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{tmp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{characters}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{)} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
             \PY{n}{fw}\PY{o}{.}\PY{n}{write}\PY{p}{(}\PY{n}{tmp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{title}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{planets,}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{tmp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{planets}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{)} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
             \PY{n}{fw}\PY{o}{.}\PY{n}{write}\PY{p}{(}\PY{n}{tmp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{title}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{starships,}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{tmp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{starships}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{)} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
             \PY{n}{fw}\PY{o}{.}\PY{n}{write}\PY{p}{(}\PY{n}{tmp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{title}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{vehicles,}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{tmp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{vehicles}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{)} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
             \PY{n}{fw}\PY{o}{.}\PY{n}{write}\PY{p}{(}\PY{n}{tmp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{title}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{species,}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n+nb}{str}\PY{p}{(}\PY{n+nb}{len}\PY{p}{(}\PY{n}{tmp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{species}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{)}\PY{p}{)} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{fr}\PY{o}{.}\PY{n}{close}\PY{p}{(}\PY{p}{)}
         \PY{n}{fw}\PY{o}{.}\PY{n}{close}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}44}]:} \PY{n}{stats} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{../csv/stat\PYZus{}basic.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{stats}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}44}]:}         title         key  value
         0  A New Hope  characters     18
         1  A New Hope     planets      3
         2  A New Hope   starships      8
         3  A New Hope    vehicles      4
         4  A New Hope     species      5
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}49}]:} \PY{c+c1}{\PYZsh{} Visualization of overall stats}
         
         \PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{12}\PY{p}{,} \PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{barplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{key}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{y} \PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{value}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{hue}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{title}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{stats}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Overview of all movies}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{16}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{xlabel}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{star_war_files/star_war_7_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \paragraph{"Attack of the Clones" has most
characters}\label{attack-of-the-clones-has-most-characters}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}50}]:} \PY{n}{fr} \PY{o}{=} \PY{n+nb}{open}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{../csv/characters.txt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{r}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{fw} \PY{o}{=} \PY{n+nb}{open}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{../csv/stat\PYZus{}characters.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{fw}\PY{o}{.}\PY{n}{write}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{name,height,mass,gender,homeworld}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{k}{for} \PY{n}{line} \PY{o+ow}{in} \PY{n}{fr}\PY{p}{:}
             \PY{n}{tmp} \PY{o}{=} \PY{n}{json}\PY{o}{.}\PY{n}{loads}\PY{p}{(}\PY{n}{line}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{)}
             \PY{k}{if} \PY{n}{tmp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{height}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{unknown}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}
                 \PY{n}{tmp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{height}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZhy{}1}\PY{l+s+s1}{\PYZsq{}}
             \PY{k}{if} \PY{n}{tmp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mass}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{unknown}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}
                 \PY{n}{tmp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mass}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZhy{}1}\PY{l+s+s1}{\PYZsq{}}
             \PY{k}{if} \PY{n}{tmp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{gender}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{==} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{none}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}
                 \PY{n}{tmp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{gender}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{=} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{n/a}\PY{l+s+s1}{\PYZsq{}}
             \PY{n}{fw}\PY{o}{.}\PY{n}{write}\PY{p}{(}\PY{n}{tmp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{name}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n}{tmp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{height}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n}{tmp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mass}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n}{tmp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{gender}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{strip}\PY{p}{(}\PY{p}{)} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZsq{}} \PY{o}{+} \PY{n}{tmp}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{homeworld}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]} \PY{o}{+} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+se}{\PYZbs{}n}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         
         \PY{n}{fr}\PY{o}{.}\PY{n}{close}\PY{p}{(}\PY{p}{)}
         \PY{n}{fw}\PY{o}{.}\PY{n}{close}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}55}]:} \PY{n}{stat\PYZus{}characters} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{../csv/stat\PYZus{}characters.csv}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
         \PY{n}{stat\PYZus{}characters}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

\begin{Verbatim}[commandchars=\\\{\}]
{\color{outcolor}Out[{\color{outcolor}55}]:}              name  height   mass  gender                        homeworld
         0  Luke Skywalker     172   77.0    male  https://swapi.co/api/planets/1/
         1           C-3PO     167   75.0     NaN  https://swapi.co/api/planets/1/
         2           R2-D2      96   32.0     NaN  https://swapi.co/api/planets/8/
         3     Darth Vader     202  136.0    male  https://swapi.co/api/planets/1/
         4     Leia Organa     150   49.0  female  https://swapi.co/api/planets/2/
\end{Verbatim}
            
    \begin{Verbatim}[commandchars=\\\{\}]
{\color{incolor}In [{\color{incolor}57}]:} \PY{c+c1}{\PYZsh{} Visualization of characters}
         
         \PY{n}{fig}\PY{p}{,} \PY{n}{ax} \PY{o}{=} \PY{n}{plt}\PY{o}{.}\PY{n}{subplots}\PY{p}{(}\PY{n}{figsize}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{12}\PY{p}{,} \PY{l+m+mi}{6}\PY{p}{)}\PY{p}{)}
         \PY{n}{sns}\PY{o}{.}\PY{n}{scatterplot}\PY{p}{(}\PY{n}{x}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{mass}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{y} \PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{height}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{hue}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{gender}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{data}\PY{o}{=}\PY{n}{stat\PYZus{}characters}\PY{p}{)}
         \PY{n}{ax}\PY{o}{.}\PY{n}{set\PYZus{}title}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{Visualization of characters}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{fontsize}\PY{o}{=}\PY{l+m+mi}{16}\PY{p}{)}
         \PY{n}{plt}\PY{o}{.}\PY{n}{show}\PY{p}{(}\PY{p}{)}
\end{Verbatim}

    \begin{center}
    \adjustimage{max size={0.9\linewidth}{0.9\paperheight}}{star_war_files/star_war_11_0.png}
    \end{center}
    { \hspace*{\fill} \\}
    
    \subsubsection{3. Build relationship data
file}\label{build-relationship-data-file}

Now we use python to create 3 json files to build our interactive graph,
we will use \textbf{html、css、javascript and d3 to finish} it.

You can open the \texttt{index.html} in this directory, the website is
based on it.

\subsubsection{4. Visualization}\label{visualization}

The core is D3, \textbf{Data Driven Documents}, which is data-driven
documents. It is one of the most popular JS visualization libraries. The
core idea of D3 is to use data to generate elements on a web page. When
data is updated, the appearance and attributes of elements on a web page
are modified according to the changes of data.

We need to prepare an \texttt{SVG} and \texttt{G} as drawing containers
in HTML code, then \texttt{select\ ()} the containers in JS code, then
\texttt{select\ all\ ()} the \texttt{SVG} elements to be generated, bind
data for \texttt{SVG} elements using
\texttt{data\ (),\ execute\ enter\ ().\ append\ ()} and
\texttt{exit\ ().\ remove\ ()} according to the corresponding state of
data and elements, and control \texttt{SVG} using \texttt{attr\ ()} to
control svg. Element appearance, and dynamically update the appearance
of SVG elements according to user interaction

In order to achieve this graph, we generate circle and text elements
based on node data; line elements based on node links; circle and text
size and color are controlled according to node data; and when the mouse
is hovering and dragging, the corresponding time is triggered, and the
appearance and display of elements are changed. The implementation of
the timeline is similar. The only difference is that rect element is
used here.


    % Add a bibliography block to the postdoc
    
    
    
    \end{document}
